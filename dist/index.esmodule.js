import e,{useRef as r,useMemo as o,useEffect as t,useState as a,useCallback as l,useLayoutEffect as n}from"react";function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)({}).hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},s.apply(null,arguments)}function c(e,r){if(null==e)return{};var o={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;o[t]=e[t]}return o}function u(e){const o=r(e),t=r(e=>{o.current&&o.current(e)});return o.current=e,t.current}const i=(e,r=0,o=1)=>e>o?o:e<r?r:e,d=["onMove","onKey"],f=(e,r,o)=>{const t=e.getBoundingClientRect(),a=r;return{left:i((a.pageX-(t.left+window.scrollX))/t.width),top:i((a.pageY-(t.top+window.scrollY))/t.height)}},h=e=>{e.preventDefault()},v=e.memo(a=>{let{onMove:l,onKey:n}=a,i=c(a,d);const v=r(null),m=u(l),g=u(n);r(null);const p=r(!1),[b,_,C]=o(()=>{const e=e=>{h(e),e.buttons>0&&v.current?m(f(v.current,e)):r(!1)};function r(r){r?window.addEventListener("mousemove",e):window.removeEventListener("mousemove",e)}return[({nativeEvent:e})=>{const o=v.current;o&&(h(e),!((e,r)=>r&&!0)(0,p.current)&&o&&(o.focus(),m(f(o,e)),r(!0)))},e=>{const r=e.which||e.keyCode;r<37||r>40||(e.preventDefault(),g({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},r]},[g,m]);return t(()=>C,[C]),/*#__PURE__*/e.createElement("div",s({},i,{onMouseDown:b,className:"react-colorful__interactive",ref:v,onKeyDown:_,tabIndex:0,role:"slider"}))}),m=e=>e.filter(Boolean).join(" "),g=({className:r,color:o,left:t,top:a=.5})=>{const l=m(["react-colorful__pointer",r]);/*#__PURE__*/return e.createElement("div",{className:l,style:{top:100*a+"%",left:100*t+"%"}},/*#__PURE__*/e.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:o}}))},p=(e,r=0,o=Math.pow(10,r))=>Math.round(o*e)/o,b={grad:.9,turn:360,rad:360/(2*Math.PI)},_=e=>K(C(e)),C=e=>("#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?p(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?p(parseInt(e.substring(6,8),16)/255,2):1}),E=(e,r="deg")=>Number(e)*(b[r]||1),x=e=>{const r=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return r?H({h:E(r[1],r[2]),s:Number(r[3]),l:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},w=x,H=({h:e,s:r,l:o,a:t})=>({h:e,s:(r*=(o<50?o:100-o)/100)>0?2*r/(o+r)*100:0,v:o+r,a:t}),M=e=>B(q(e)),N=({h:e,s:r,v:o,a:t})=>{const a=(200-r)*o/100;return{h:p(e),s:p(a>0&&a<200?r*o/100/(a<=100?a:200-a)*100:0),l:p(a/2),a:p(t,2)}},$=e=>{const{h:r,s:o,l:t}=N(e);return`hsl(${r}, ${o}%, ${t}%)`},y=e=>{const{h:r,s:o,l:t,a}=N(e);return`hsla(${r}, ${o}%, ${t}%, ${a})`},q=({h:e,s:r,v:o,a:t})=>{e=e/360*6,r/=100,o/=100;const a=Math.floor(e),l=o*(1-r),n=o*(1-(e-a)*r),s=o*(1-(1-e+a)*r),c=a%6;return{r:p(255*[o,n,l,l,s,o][c]),g:p(255*[s,o,o,n,l,l][c]),b:p(255*[l,l,s,o,o,n][c]),a:p(t,2)}},k=e=>{const r=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return r?D({h:E(r[1],r[2]),s:Number(r[3]),v:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},I=k,z=e=>{const r=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return r?K({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):{h:0,s:0,v:0,a:1}},O=z,j=e=>{const r=e.toString(16);return r.length<2?"0"+r:r},B=({r:e,g:r,b:o,a:t})=>{const a=t<1?j(p(255*t)):"";return"#"+j(e)+j(r)+j(o)+a},K=({r:e,g:r,b:o,a:t})=>{const a=Math.max(e,r,o),l=a-Math.min(e,r,o),n=l?a===e?(r-o)/l:a===r?2+(o-e)/l:4+(e-r)/l:0;return{h:p(60*(n<0?n+6:n)),s:p(a?l/a*100:0),v:p(a/255*100),a:t}},D=e=>({h:p(e.h),s:p(e.s),v:p(e.v),a:p(e.a,2)}),L=e.memo(({className:r,hue:o,onChange:t})=>{const a=m(["react-colorful__hue",r]);/*#__PURE__*/return e.createElement("div",{className:a},/*#__PURE__*/e.createElement(v,{onMove:e=>{t({h:360*e.left})},onKey:e=>{t({h:i(o+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":p(o),"aria-valuemax":"360","aria-valuemin":"0"},/*#__PURE__*/e.createElement(g,{className:"react-colorful__hue-pointer",left:o/360,color:$({h:o,s:100,v:100,a:1})})))}),A=e.memo(({hsva:r,onChange:o})=>{const t={backgroundColor:$({h:r.h,s:100,v:100,a:1})};/*#__PURE__*/return e.createElement("div",{className:"react-colorful__saturation",style:t},/*#__PURE__*/e.createElement(v,{onMove:e=>{o({s:100*e.left,v:100-100*e.top})},onKey:e=>{o({s:i(r.s+100*e.left,0,100),v:i(r.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":`Saturation ${p(r.s)}%, Brightness ${p(r.v)}%`},/*#__PURE__*/e.createElement(g,{className:"react-colorful__saturation-pointer",top:1-r.v/100,left:r.s/100,color:$(r)})))}),P=(e,r)=>{if(e===r)return!0;for(const o in e)if(e[o]!==r[o])return!1;return!0},F=(e,r)=>e.replace(/\s/g,"")===r.replace(/\s/g,""),S=(e,r)=>e.toLowerCase()===r.toLowerCase()||P(C(e),C(r));function X(e,o,n){const s=u(n),[c,i]=a(()=>e.toHsva(o)),d=r({color:o,hsva:c});t(()=>{if(!e.equal(o,d.current.color)){const r=e.toHsva(o);d.current={hsva:r,color:o},i(r)}},[o,e]),t(()=>{let r;P(c,d.current.hsva)||e.equal(r=e.fromHsva(c),d.current.color)||(d.current={hsva:c,color:r},s(r))},[c,e,s]);const f=l(e=>{i(r=>Object.assign({},r,e))},[]);return[c,f]}const Y="undefined"!=typeof window?n:t;let R;const T=()=>R||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0),G=e=>{R=e},J=new Map,Q=(e,r)=>{Y(()=>{const o=e.current?e.current.ownerDocument:document;if(void 0!==o&&!J.has(o)){const e=o.createElement("style");e.innerHTML='.react-colorful{cursor:default;display:flex;flex-direction:column;height:200px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:200px}.react-colorful__saturation{background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0));border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;flex-grow:1;position:relative}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{border-radius:inherit;bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{height:24px;position:relative}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{border-radius:inherit;bottom:0;left:0;outline:none;position:absolute;right:0;top:0;touch-action:none}.react-colorful__pointer{background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2);box-sizing:border-box;height:28px;position:absolute;transform:translate(-50%,-50%);width:28px;z-index:1}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',J.set(o,e);const t=T();t&&e.setAttribute("nonce",t),r?r.prepend(e):o.head.appendChild(e)}},[])},U=["className","colorModel","color","onChange","root"],V=o=>{let{className:t,colorModel:a,color:l=a.defaultColor,onChange:n,root:u}=o,i=c(o,U);const d=r(null);Q(d,u);const[f,h]=X(a,l,n),v=m(["react-colorful",t]);/*#__PURE__*/return e.createElement("div",s({},i,{ref:d,className:v}),/*#__PURE__*/e.createElement(A,{hsva:f,onChange:h}),/*#__PURE__*/e.createElement(L,{hue:f.h,onChange:h,className:"react-colorful__last-control"}))},W={defaultColor:"000",toHsva:_,fromHsva:({h:e,s:r,v:o})=>M({h:e,s:r,v:o,a:1}),equal:S},Z=r=>/*#__PURE__*/e.createElement(V,s({},r,{colorModel:W})),ee=({className:r,hsva:o,onChange:t})=>{const a={backgroundImage:`linear-gradient(90deg, ${y(Object.assign({},o,{a:0}))}, ${y(Object.assign({},o,{a:1}))})`},l=m(["react-colorful__alpha",r]),n=p(100*o.a);/*#__PURE__*/return e.createElement("div",{className:l},/*#__PURE__*/e.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),/*#__PURE__*/e.createElement(v,{onMove:e=>{t({a:e.left})},onKey:e=>{t({a:i(o.a+e.left)})},"aria-label":"Alpha","aria-valuetext":`${n}%`,"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"},/*#__PURE__*/e.createElement(g,{className:"react-colorful__alpha-pointer",left:o.a,color:y(o)})))},re=["className","colorModel","color","onChange","root"],oe=o=>{let{className:t,colorModel:a,color:l=a.defaultColor,onChange:n,root:u}=o,i=c(o,re);const d=r(null);Q(d,u);const[f,h]=X(a,l,n),v=m(["react-colorful",t]);/*#__PURE__*/return e.createElement("div",s({},i,{ref:d,className:v}),/*#__PURE__*/e.createElement(A,{hsva:f,onChange:h}),/*#__PURE__*/e.createElement(L,{hue:f.h,onChange:h}),/*#__PURE__*/e.createElement(ee,{hsva:f,onChange:h,className:"react-colorful__last-control"}))},te={defaultColor:"0001",toHsva:_,fromHsva:M,equal:S},ae=r=>/*#__PURE__*/e.createElement(oe,s({},r,{colorModel:te})),le={defaultColor:{h:0,s:0,l:0,a:1},toHsva:H,fromHsva:N,equal:P},ne=r=>/*#__PURE__*/e.createElement(oe,s({},r,{colorModel:le})),se={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:x,fromHsva:y,equal:F},ce=r=>/*#__PURE__*/e.createElement(oe,s({},r,{colorModel:se})),ue={defaultColor:{h:0,s:0,l:0},toHsva:({h:e,s:r,l:o})=>H({h:e,s:r,l:o,a:1}),fromHsva:e=>(({h:e,s:r,l:o})=>({h:e,s:r,l:o}))(N(e)),equal:P},ie=r=>/*#__PURE__*/e.createElement(V,s({},r,{colorModel:ue})),de={defaultColor:"hsl(0, 0%, 0%)",toHsva:w,fromHsva:$,equal:F},fe=r=>/*#__PURE__*/e.createElement(V,s({},r,{colorModel:de})),he={defaultColor:{h:0,s:0,v:0,a:1},toHsva:e=>e,fromHsva:D,equal:P},ve=r=>/*#__PURE__*/e.createElement(oe,s({},r,{colorModel:he})),me={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:k,fromHsva:e=>{const{h:r,s:o,v:t,a}=D(e);return`hsva(${r}, ${o}%, ${t}%, ${a})`},equal:F},ge=r=>/*#__PURE__*/e.createElement(oe,s({},r,{colorModel:me})),pe={defaultColor:{h:0,s:0,v:0},toHsva:({h:e,s:r,v:o})=>({h:e,s:r,v:o,a:1}),fromHsva:e=>{const{h:r,s:o,v:t}=D(e);return{h:r,s:o,v:t}},equal:P},be=r=>/*#__PURE__*/e.createElement(V,s({},r,{colorModel:pe})),_e={defaultColor:"hsv(0, 0%, 0%)",toHsva:I,fromHsva:e=>{const{h:r,s:o,v:t}=D(e);return`hsv(${r}, ${o}%, ${t}%)`},equal:F},Ce=r=>/*#__PURE__*/e.createElement(V,s({},r,{colorModel:_e})),Ee={defaultColor:{r:0,g:0,b:0,a:1},toHsva:K,fromHsva:q,equal:P},xe=r=>/*#__PURE__*/e.createElement(oe,s({},r,{colorModel:Ee})),we={defaultColor:"rgba(0, 0, 0, 1)",toHsva:z,fromHsva:e=>{const{r,g:o,b:t,a}=q(e);return`rgba(${r}, ${o}, ${t}, ${a})`},equal:F},He=r=>/*#__PURE__*/e.createElement(oe,s({},r,{colorModel:we})),Me={defaultColor:{r:0,g:0,b:0},toHsva:({r:e,g:r,b:o})=>K({r:e,g:r,b:o,a:1}),fromHsva:e=>(({r:e,g:r,b:o})=>({r:e,g:r,b:o}))(q(e)),equal:P},Ne=r=>/*#__PURE__*/e.createElement(V,s({},r,{colorModel:Me})),$e={defaultColor:"rgb(0, 0, 0)",toHsva:O,fromHsva:e=>{const{r,g:o,b:t}=q(e);return`rgb(${r}, ${o}, ${t})`},equal:F},ye=r=>/*#__PURE__*/e.createElement(V,s({},r,{colorModel:$e})),qe=/^#?([0-9A-F]{3,8})$/i,ke=["color","onChange","onBlur","escape","validate","format","process"],Ie=r=>{const{color:o="",onChange:n,onBlur:i,escape:d,validate:f,format:h,process:v}=r,m=c(r,ke),[g,p]=a(()=>d(o)),b=u(n),_=u(i),C=l(e=>{const r=d(e.target.value);p(r),f(r)&&b(v?v(r):r)},[d,v,f,b]),E=l(e=>{f(e.target.value)||p(d(o)),_(e)},[o,d,f,_]);return t(()=>{p(d(o))},[o,d]),/*#__PURE__*/e.createElement("input",s({},m,{value:h?h(g):g,spellCheck:"false",onChange:C,onBlur:E}))},ze=["prefixed","alpha"],Oe=e=>"#"+e,je=r=>{const{prefixed:o,alpha:t}=r,a=c(r,ze),n=l(e=>e.replace(/([^0-9A-F]+)/gi,"").substring(0,t?8:6),[t]),u=l(e=>((e,r)=>{const o=qe.exec(e),t=o?o[1].length:0;return 3===t||6===t||!!r&&4===t||!!r&&8===t})(e,t),[t]);/*#__PURE__*/return e.createElement(Ie,s({},a,{escape:n,format:o?Oe:void 0,process:Oe,validate:u}))};export{ae as HexAlphaColorPicker,je as HexColorInput,Z as HexColorPicker,ie as HslColorPicker,fe as HslStringColorPicker,ne as HslaColorPicker,ce as HslaStringColorPicker,be as HsvColorPicker,Ce as HsvStringColorPicker,ve as HsvaColorPicker,ge as HsvaStringColorPicker,Ne as RgbColorPicker,ye as RgbStringColorPicker,xe as RgbaColorPicker,He as RgbaStringColorPicker,G as setNonce};
//# sourceMappingURL=index.esmodule.js.map
